<div class="settings-content">
  <div class="settings-section">
    <h3>Th√¥ng tin t√†i kho·∫£n</h3>

    <!-- <div *ngIf="message" class="alert alert-info">{{ message }}</div> -->

    <form (ngSubmit)="onUpdate()" #accountForm="ngForm" class="settings-form" novalidate>
      <div class="row g-3">
        <div class="col-md-6">
          <label class="form-label">T√™n ƒëƒÉng nh·∫≠p</label>
          <input type="text" class="form-control" [(ngModel)]="account.tenDangNhap" name="tenDangNhap" readonly />
        </div>
        <div class="col-md-6">
          <label class="form-label">H·ªç t√™n</label>
          <input type="text" class="form-control" [(ngModel)]="account.hoTen" name="hoTen" required #hoTen="ngModel" />
          <div *ngIf="hoTen.invalid && hoTen.touched" class="text-danger small">‚ö†Ô∏è H·ªç t√™n l√† b·∫Øt bu·ªôc.</div>
        </div>
        <div class="col-md-6">
          <label class="form-label">Ng√†y sinh</label>
          <input type="date" class="form-control" [(ngModel)]="account.ngaySinh" name="ngaySinh" />
        </div>
        <div class="col-md-6">
          <label class="form-label">ƒê·ªãa ch·ªâ</label>
          <input type="text" class="form-control" [(ngModel)]="account.diaChi" name="diaChi" />
        </div>
        <div class="col-md-6">
          <label class="form-label">Email (ch·ªâ ch·∫•p nh·∫≠n Gmail)</label>
          <input
            type="email"
            class="form-control"
            [(ngModel)]="account.email"
            name="email"
            required
            pattern="^[a-zA-Z0-9._%+-]+&#64;gmail\.com$"
            placeholder="vd: example@gmail.com"
            #email="ngModel"
          />
          <div *ngIf="email.invalid && email.touched" class="text-danger small">
            <div *ngIf="email.errors?.['required']">‚ö†Ô∏è Email l√† b·∫Øt bu·ªôc.</div>
            <div *ngIf="email.errors?.['pattern']">‚ùå Email ph·∫£i l√† ƒë·ªãa ch·ªâ Gmail h·ª£p l·ªá (vd: ten&#64;gmail.com).</div>
          </div>
        </div>
        <div class="col-md-6">
          <label class="form-label">S·ªë ƒëi·ªán tho·∫°i</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="account.soDT"
            name="soDT"
            pattern="^0[0-9]{9}$"
            placeholder="VD: 0909123456"
            #soDT="ngModel"
          />
          <div *ngIf="soDT.invalid && soDT.touched" class="text-danger small">
            ‚ùå S·ªë ƒëi·ªán tho·∫°i kh√¥ng h·ª£p l·ªá. Vui l√≤ng nh·∫≠p 10 ch·ªØ s·ªë b·∫Øt ƒë·∫ßu b·∫±ng 0.
          </div>
        </div>
      </div>

      <hr />

      <h5>ƒê·ªïi m·∫≠t kh·∫©u</h5>
      <div class="row g-3">
        <div class="col-md-6">
          <label class="form-label">M·∫≠t kh·∫©u c≈©</label>
          <input type="password" class="form-control" [(ngModel)]="oldPassword" name="oldPassword" />
        </div>
        <div class="col-md-6">
          <label class="form-label">M·∫≠t kh·∫©u m·ªõi</label>
          <input type="password" class="form-control" [(ngModel)]="newPassword" name="newPassword" />
        </div>
      </div>

      <div class="mt-3">
        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="accountForm.invalid || (email.invalid || soDT.invalid)"
        >
          L∆∞u thay ƒë·ªïi
        </button>
        <button type="button" class="btn btn-danger ms-2" (click)="onDeactivate()">
          V√¥ hi·ªáu h√≥a t√†i kho·∫£n
        </button>
      </div>
    </form>
  </div>
</div>

<!-- üîî Toast th√¥ng b√°o n·ªïi -->
<div
  class="toast-container position-fixed top-0 end-0 p-3"
  style="z-index: 2000"
  *ngIf="showToast"
>
  <div
    class="toast align-items-center text-white border-0 show"
    [ngClass]="isSuccess ? 'bg-success' : 'bg-danger'"
    role="alert"
  >
    <div class="d-flex">
      <div class="toast-body">
        {{ message }}
      </div>
      <button
        type="button"
        class="btn-close btn-close-white me-2 m-auto"
        (click)="showToast = false"
      ></button>
    </div>
  </div>
</div>

